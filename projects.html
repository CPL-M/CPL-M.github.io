<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects - CPL</title>
    <link rel="stylesheet" href="projectstyles.css">
    <link rel="stylesheet" href="https://use.typekit.net/nzf7ohw.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <img src="images/CPLDiscord_Inv.png" alt="CPL Logo">
            </div>
            <div class="page-name">
                <h1>My Work</h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <section id="featured-projects">
        <div class="container">
            <h2>Featured Projects</h2>
            <div class="projects-grid">
                <!-- Featured Project Cards -->
                <div class="project-card featured">
                    <img src="images/Sword.png" alt="Sword">
                    <h3>Anime Sword</h3>
                    <p>A neat sword model. Based off of one of Ichigo's swords from Bleach</p>
                    <span class="project-details" style="display: none;">
                        <span class="madeWith">Blender</span>
                        <span class="madeFor">No Client</span>
                    </span>
                    <a href="#" class="project-link featured">View Project</a>
                </div>
                <div class="project-card featured">
                    <img src="images/project2-thumbnail.png" alt="Smelting Furnace">
                    <h3>Smelting Furnace</h3>
                    <p>A smelting furnace, some metal ingots, and some metal ingot molds</p>
                    <span class="project-details" style="display: none;">
                        <span class="madeWith">Blender</span>
                        <span class="madeFor">Nylex's 2.0 Project</span>
                    </span>
                    <a href="#" class="project-link featured">View Project</a>
                </div>
                <div class="project-card featured">
                    <img src="images/Ship.png" alt="Ship">
                    <h3>Legend Class Destroyer</h3>
                    <p>A large Legend Class Coast Guard Destroyer</p>
                    <span class="project-details" style="display: none;">
                        <span class="madeWith">Blender</span>
                        <span class="madeFor">Death Gaming</span>
                    </span>
                    <a href="#" class="project-link featured">View Project</a>
                </div>
            </div>
        </div>
    </section>

    <section id="projects">
        <div class="container">
            <p>.</p>


            <!-- Items -->
            <div class="project-category">
                <h3>Items</h3>
                <div class="project-carousel">
                    <div class="project-wrapper" id="map-objects">
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/Sword.png" alt="Sword">
                            </div>
                            <h3>Anime Sword</h3>
                            <p>A neat sword model. Based off of one of Ichigo's swords from Bleach</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Blender</span>
                                <span class="madeFor">No Client</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/IDs.png" alt="Project One Thumbnail">
                            </div>
                            <h3>Fire and EMS IDs</h3>
                            <p>Fire and EMS IDs based off of IRL ID styles</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Blender</span>
                                <span class="madeFor">Public Mod</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="project-category">
                <h3>Clothing</h3>
                <div class="project-carousel">
                    <div class="project-wrapper">
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/Lumberjack.png" alt="Project One Thumbnail">
                            </div>
                            <h3>Lumberjack Outfit</h3>
                            <p>Lumberjack-themed shirt and pants for an NPC</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Photoshop</span>
                                <span class="madeFor">No Client</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reskins -->
            <div class="project-category">
                <h3>Reskins</h3>
                <div class="project-carousel">
                    <div class="project-wrapper">
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/Skin1.png" alt="Project One Thumbnail">
                            </div>
                            <h3>Green Skull AR</h3>
                            <p>A Rust AR Model reskinned to look like an in-game skin with a radiation mythical effect added on</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Blender</span>
                                <span class="madeFor">FeelRust</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/Skin2.png" alt="Project One Thumbnail">
                            </div>
                            <h3>Radiation AK</h3>
                            <p>A Rust AK Model Reskinned to look like an in-game radiation-themed skin with a radiation mythical effect added on</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Blender</span>
                                <span class="madeFor">FeelRust</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/Skin3.png" alt="Project One Thumbnail">
                            </div>
                            <h3>Electric AK</h3>
                            <p>A Rust AK Model Reskinned to look like an in-game Electric-themed skin with a mythical effect added on</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Blender</span>
                                <span class="madeFor">FeelRust</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/Skin4.png" alt="Project One Thumbnail">
                            </div>
                            <h3>Blood/Fire AR</h3>
                            <p>A Rust AR Model reskinned to look like an in-game fire/blood themed skin with a blood splatter effect added on</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Blender</span>
                                <span class="madeFor">FeelRust</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="project-category">
                <h3>Buildings</h3>
                <div class="project-carousel">
                    <div class="project-wrapper">
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/WhisperingQuality.png" alt="Project One Thumbnail">
                            </div>
                            <h3>Butcher Shop</h3>
                            <p>A small butcher shop that I made for fun</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Sketchup and Blender</span>
                                <span class="madeFor">No Client</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Map Objects -->
            <div class="project-category">
                <h3>Misc Map Objects</h3>
                <div class="project-carousel">
                    <div class="project-wrapper" id="maps">
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/project2-thumbnail.png" alt="Project One Thumbnail">
                            </div>
                            <h3>Smelting Furnace</h3>
                            <p>A smelting furnace, some metal ingots, and some metal ingot molds</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Blender</span>
                                <span class="madeFor">Nylex's 2.0 Project</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/Ship.png" alt="Project One Thumbnail">
                            </div>
                            <h3>Legend Class Destroyer</h3>
                            <p>A large Legend Class Coast Guard Destroyer</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Blender</span>
                                <span class="madeFor">Death Gaming</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                        <div class="project-card">
                            <div class="image-wrapper">
                                <img src="images/project1-thumbnail.png" alt="Project One Thumbnail">
                            </div>
                            <h3>Town Signs</h3>
                            <p>Some town signs I made for a map</p>
                            <span class="project-details" style="display: none;">
                                <span class="madeWith">Blender</span>
                                <span class="madeFor">Personal Project</span>
                            </span>
                            <a href="#" class="project-link">View Project</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal Structure -->
    <div id="projectModal" class="modal">
        <div class="modal-content">
            <div class="modal-image">
                <img src="" alt="Project Image" id="modalImage">
            </div>
            <div class="modal-description">
                <h2 id="modalTitle">Project Title</h2>
                <p id="modalOverview">A brief overview of the project, tools used, and key highlights.</p>
                <p><strong>Made with:</strong> <span id="modalMadeWith"></span></p>
                <p><strong>Made for:</strong> <span id="modalMadeFor"></span></p>
            </div>
        </div>
    </div>


    <footer id="contact">
        <div class="container">
            <h2>Contact</h2>
            <p>Discord: cpl.0369</p>
            <p>GitHub: <a href="#">CPL-M</a></p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const containers = document.querySelectorAll('.project-wrapper');

            containers.forEach(container => {
                let isDown = false;
                let startX;
                let scrollLeft;
                let snapTimeout;

                container.addEventListener('mousedown', (e) => {
                    isDown = true;
                    container.classList.add('active');
                    startX = e.pageX - container.offsetLeft;
                    scrollLeft = container.scrollLeft;
                    // Disable text selection
                    document.body.style.userSelect = 'none';
                    // Disable scroll snapping
                    container.style.scrollSnapType = 'none';
                    // Clear any existing timeout
                    clearTimeout(snapTimeout);
                });

                container.addEventListener('mouseleave', () => {
                    if (isDown) {
                        isDown = false;
                        container.classList.remove('active');
                        // Re-enable text selection
                        document.body.style.userSelect = '';
                        // Snap to closest after dragging
                        snapTimeout = setTimeout(() => {
                            smoothSnapToClosest(container);
                        }, 100); // Adjust delay as needed
                    }
                });

                container.addEventListener('mouseup', () => {
                    if (isDown) {
                        isDown = false;
                        container.classList.remove('active');
                        // Re-enable text selection
                        document.body.style.userSelect = '';
                        // Snap to closest after dragging
                        snapTimeout = setTimeout(() => {
                            smoothSnapToClosest(container);
                        }, 100); // Adjust delay as needed
                    }
                });

                container.addEventListener('mousemove', (e) => {
                    if (!isDown) return;
                    e.preventDefault();
                    const x = e.pageX - container.offsetLeft;
                    const walk = (x - startX);
                    container.scrollLeft = scrollLeft - walk;
                });
            });

            function smoothSnapToClosest(container) {
                const cardWidth = container.querySelector('.project-card').clientWidth;
                const cardMargin = parseInt(window.getComputedStyle(container.querySelector('.project-card')).marginRight);
                const scrollAmount = cardWidth + cardMargin;

                const containerCenter = container.clientWidth / 2;
                let closestCard;
                let minDiff = Infinity;

                container.querySelectorAll('.project-card').forEach((card) => {
                    const cardCenter = card.offsetLeft + (card.offsetWidth / 2);
                    const diff = Math.abs(cardCenter - (container.scrollLeft + containerCenter));
                    if (diff < minDiff) {
                        minDiff = diff;
                        closestCard = card;
                    }
                });

                if (closestCard) {
                    const cardOffset = closestCard.offsetLeft;
                    container.scrollTo({
                        left: cardOffset - (container.clientWidth / 2) + (closestCard.clientWidth / 2),
                        behavior: 'smooth'
                    });
                }
            }
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById('projectModal');
            const modalContent = modal.querySelector('.modal-content');
            const modalImage = document.getElementById('modalImage');
            const modalTitle = document.getElementById('modalTitle');
            const modalOverview = document.getElementById('modalOverview');
            const modalMadeWith = document.getElementById('modalMadeWith');
            const modalMadeFor = document.getElementById('modalMadeFor');

            // Function to open modal with project details
            function openModal(project, bgColor) {
                modalImage.src = project.image;
                modalTitle.textContent = project.title;
                modalOverview.textContent = project.overview;
                modalMadeWith.textContent = project.madeWith;
                modalMadeFor.textContent = project.madeFor;
                modalContent.style.backgroundColor = bgColor; // Set the background color
                modal.style.display = 'flex'; // Ensure flex display for centering
            }

            // Close modal when the user clicks outside the modal content
            window.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });

            // Attach click event to each "View Project" link
            document.querySelectorAll('.project-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const projectCard = e.target.closest('.project-card');
                    const project = {
                        image: projectCard.querySelector('img').src,
                        title: projectCard.querySelector('h3').textContent,
                        overview: projectCard.querySelector('p').textContent,
                        madeWith: projectCard.querySelector('.project-details .madeWith').textContent,
                        madeFor: projectCard.querySelector('.project-details .madeFor').textContent
                    };
                    const bgColor = projectCard.getAttribute('data-bg-color'); // Get the background color
                    openModal(project, bgColor);
                });
            });
        });
    </script>

</body>
</html>
